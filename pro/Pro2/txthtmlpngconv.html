<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Alpha Channel PNG –ö–æ–¥–µ—Ä/–î–µ–∫–æ–¥–µ—Ä</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Roboto, Arial, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a6c, #3a7bd5);
            color: #333;
            padding: 15px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 100%;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            color: white;
            margin-bottom: 20px;
            padding: 15px;
            border-radius: 12px;
            background: rgba(0, 0, 0, 0.2);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            font-size: 1.5rem;
            margin-bottom: 8px;
        }
        
        .description {
            font-size: 0.9rem;
            opacity: 0.9;
            line-height: 1.4;
        }
        
        .app-card {
            background-color: white;
            border-radius: 16px;
            padding: 20px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            margin-bottom: 20px;
        }
        
        .tab-buttons {
            display: flex;
            margin-bottom: 20px;
            border-radius: 12px;
            overflow: hidden;
            background-color: #f0f0f0;
        }
        
        .tab-button {
            flex: 1;
            padding: 12px 5px;
            border: none;
            background: none;
            font-weight: 600;
            font-size: 0.95rem;
            color: #555;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .tab-button.active {
            background-color: #3a7bd5;
            color: white;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .input-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #444;
        }
        
        textarea, input[type="text"], input[type="file"] {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1rem;
        }
        
        textarea {
            resize: vertical;
            min-height: 120px;
            font-family: 'Courier New', monospace;
        }
        
        .html-input textarea {
            min-height: 180px;
        }
        
        input[type="file"] {
            border: 2px dashed #e0e0e0;
            background-color: #f9f9f9;
        }
        
        .input-row {
            display: flex;
            gap: 10px;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .file-input-label {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 15px;
            background: #f0f0f0;
            border-radius: 8px;
            cursor: pointer;
            font-weight: normal;
            margin-bottom: 0;
        }
        
        .file-input-label:hover {
            background: #e0e0e0;
        }
        
        .file-name {
            font-size: 0.9rem;
            color: #666;
            font-style: italic;
        }
        
        .button-group {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-top: 25px;
        }
        
        button {
            padding: 14px;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .encode-btn {
            background: linear-gradient(to right, #3a7bd5, #00d2ff);
            color: white;
        }
        
        .decode-btn {
            background: linear-gradient(to right, #f46b45, #eea849);
            color: white;
        }
        
        .convert-btn {
            background: linear-gradient(to right, #56ab2f, #a8e063);
            color: white;
        }
        
        .secondary-btn {
            background: #6c757d;
            color: white;
            padding: 10px 15px;
            font-size: 0.9rem;
        }
        
        button:disabled {
            background: #cccccc;
            cursor: not-allowed;
        }
        
        button:active:not(:disabled) {
            transform: translateY(2px);
        }
        
        .result-container {
            margin-top: 25px;
            padding: 20px;
            border-radius: 12px;
            background-color: #f8f9fa;
            border: 2px solid #e9ecef;
            display: none;
        }
        
        .result-container.active {
            display: block;
            animation: fadeIn 0.5s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .result-title {
            font-weight: 600;
            margin-bottom: 10px;
            color: #3a7bd5;
        }
        
        .image-preview {
            max-width: 100%;
            border-radius: 10px;
            margin-top: 10px;
            border: 1px solid #ddd;
            display: block;
        }
        
        .text-result {
            background-color: white;
            padding: 15px;
            border-radius: 8px;
            margin-top: 10px;
            border: 1px solid #e0e0e0;
            word-wrap: break-word;
            overflow-wrap: break-word;
            white-space: pre-wrap;
            font-family: 'Courier New', monospace;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .html-preview {
            background-color: white;
            padding: 15px;
            border-radius: 8px;
            margin-top: 10px;
            border: 1px solid #e0e0e0;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .download-btn {
            display: inline-block;
            margin-top: 15px;
            padding: 12px 20px;
            background-color: #3a7bd5;
            color: white;
            text-decoration: none;
            border-radius: 8px;
            font-weight: 600;
            text-align: center;
        }
        
        .info-box {
            background-color: #e8f4fd;
            border-left: 4px solid #3a7bd5;
            padding: 12px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            font-size: 0.9rem;
            line-height: 1.5;
        }
        
        .warning-box {
            background-color: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 12px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            font-size: 0.9rem;
            line-height: 1.5;
        }
        
        .input-type-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .input-type-btn {
            flex: 1;
            padding: 10px;
            border: 2px solid #e0e0e0;
            background: white;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }
        
        .input-type-btn.active {
            border-color: #3a7bd5;
            background-color: #e8f4fd;
            color: #3a7bd5;
        }
        
        .hidden {
            display: none;
        }
        
        .loading {
            display: none;
            text-align: center;
            margin: 15px 0;
        }
        
        .loading.active {
            display: block;
        }
        
        .spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-radius: 50%;
            border-top: 4px solid #3a7bd5;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin: 0 auto 10px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        footer {
            text-align: center;
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.85rem;
            margin-top: 20px;
            padding: 15px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Alpha Channel PNG –ö–æ–¥–µ—Ä/–î–µ–∫–æ–¥–µ—Ä</h1>
            <p class="description">–ö–æ–¥–∏—Ä—É–π—Ç–µ —Ç–µ–∫—Å—Ç –∏–ª–∏ HTML –≤ –∞–ª—å—Ñ–∞-–∫–∞–Ω–∞–ª PNG –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –¥–µ–∫–æ–¥–∏—Ä—É–π—Ç–µ —Å–∫—Ä—ã—Ç—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–π—Ç–µ –ª—é–±—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç PNG</p>
        </header>
        
        <main class="app-card">
            <div class="tab-buttons">
                <button class="tab-button active" data-tab="encode">–ö–æ–¥–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç/HTML</button>
                <button class="tab-button" data-tab="decode">–î–µ–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç/HTML</button>
                <button class="tab-button" data-tab="convert">–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ PNG</button>
            </div>
            
            <!-- –í–∫–ª–∞–¥–∫–∞ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è -->
            <div id="encode" class="tab-content active">
                <div class="input-type-selector">
                    <button class="input-type-btn active" data-input-type="text">–¢–µ–∫—Å—Ç</button>
                    <button class="input-type-btn" data-input-type="html">HTML</button>
                    <button class="input-type-btn" data-input-type="file">–§–∞–π–ª</button>
                </div>
                
                <div id="text-input" class="input-group">
                    <label for="encode-text">–¢–µ–∫—Å—Ç –¥–ª—è –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è:</label>
                    <textarea id="encode-text" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π —Ö–æ—Ç–∏—Ç–µ —Å–∫—Ä—ã—Ç—å –≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏..."></textarea>
                </div>
                
                <div id="html-input" class="input-group hidden">
                    <label for="encode-html">HTML-–∫–æ–¥ –¥–ª—è –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è:</label>
                    <textarea id="encode-html" placeholder="–í–≤–µ–¥–∏—Ç–µ HTML-–∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π —Ö–æ—Ç–∏—Ç–µ —Å–∫—Ä—ã—Ç—å –≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏..."></textarea>
                </div>
                
                <div id="file-input" class="input-group hidden">
                    <label>–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–π –∏–ª–∏ HTML-—Ñ–∞–π–ª:</label>
                    <div class="input-row">
                        <label class="file-input-label">
                            <input type="file" id="encode-file" accept=".txt,.html,.htm,.css,.js,.json,.xml" style="display: none;">
                            üìÅ –í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª
                        </label>
                        <span id="file-name" class="file-name">–§–∞–π–ª –Ω–µ –≤—ã–±—Ä–∞–Ω</span>
                    </div>
                </div>
                
                <div class="input-group">
                    <label for="encode-image">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è (–µ—Å–ª–∏ –Ω–µ –≤—ã–±—Ä–∞–Ω–æ, –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–æ –Ω–æ–≤–æ–µ):</label>
                    <input type="file" id="encode-image" accept="image/*">
                </div>
                
                <div class="info-box">
                    <strong>–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:</strong> –í–∞—à —Ç–µ–∫—Å—Ç –∏–ª–∏ HTML –±—É–¥–µ—Ç —Å–ø—Ä—è—Ç–∞–Ω –≤ –∞–ª—å—Ñ–∞-–∫–∞–Ω–∞–ª–µ (–ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏) PNG –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è. –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –æ–±—ã—á–Ω—ã–º, –Ω–æ –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–∫—Ä—ã—Ç–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.
                </div>
                
                <div class="warning-box">
                    <strong>–í–Ω–∏–º–∞–Ω–∏–µ:</strong> –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ HTML —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤—Å–µ —Ç–µ–≥–∏, –ø—Ä–æ–±–µ–ª—ã –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.
                </div>
                
                <div class="button-group">
                    <button id="encode-btn" class="encode-btn">–ó–∞–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å –≤ PNG</button>
                </div>
            </div>
            
            <!-- –í–∫–ª–∞–¥–∫–∞ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è -->
            <div id="decode" class="tab-content">
                <div class="input-group">
                    <label for="decode-image">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ PNG –¥–ª—è –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è:</label>
                    <input type="file" id="decode-image" accept="image/png">
                </div>
                
                <div class="info-box">
                    <strong>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:</strong> –î–ª—è –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –Ω—É–∂–Ω—ã PNG –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —ç—Ç–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º –∏–ª–∏ —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ –¥–∞–Ω–Ω—ã–µ –≤ –∞–ª—å—Ñ–∞-–∫–∞–Ω–∞–ª–µ.
                </div>
                
                <div class="button-group">
                    <button id="decode-btn" class="decode-btn">–î–µ–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å –∏–∑ PNG</button>
                </div>
            </div>
            
            <!-- –í–∫–ª–∞–¥–∫–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ -->
            <div id="convert" class="tab-content">
                <div class="input-group">
                    <label for="convert-image">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –≤ PNG:</label>
                    <input type="file" id="convert-image" accept="image/*">
                </div>
                
                <div class="info-box">
                    <strong>–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ:</strong> –ó–∞–≥—Ä—É–∑–∏—Ç–µ –ª—é–±–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (JPG, GIF, BMP, WebP –∏ –¥—Ä.) –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –≤ —Ñ–æ—Ä–º–∞—Ç PNG —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∫–∞—á–µ—Å—Ç–≤–∞.
                </div>
                
                <div class="button-group">
                    <button id="convert-btn" class="convert-btn">–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ PNG</button>
                </div>
            </div>
            
            <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ -->
            <div class="loading" id="loading">
                <div class="spinner"></div>
                <p>–û–±—Ä–∞–±–æ—Ç–∫–∞...</p>
            </div>
            
            <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã -->
            <div class="result-container" id="result-container">
                <h3 class="result-title" id="result-title">–†–µ–∑—É–ª—å—Ç–∞—Ç</h3>
                <div id="result-content"></div>
            </div>
        </main>
        
        <footer>
            <p>Alpha Channel PNG –ö–æ–¥–µ—Ä/–î–µ–∫–æ–¥–µ—Ä ¬© 2023 | –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ</p>
        </footer>
    </div>

    <script>
        // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
        const tabButtons = document.querySelectorAll('.tab-button');
        const tabContents = document.querySelectorAll('.tab-content');
        const inputTypeBtns = document.querySelectorAll('.input-type-btn');
        const encodeText = document.getElementById('encode-text');
        const encodeHtml = document.getElementById('encode-html');
        const encodeFileInput = document.getElementById('encode-file');
        const encodeImageInput = document.getElementById('encode-image');
        const decodeImageInput = document.getElementById('decode-image');
        const convertImageInput = document.getElementById('convert-image');
        const fileNameSpan = document.getElementById('file-name');
        const encodeBtn = document.getElementById('encode-btn');
        const decodeBtn = document.getElementById('decode-btn');
        const convertBtn = document.getElementById('convert-btn');
        const loading = document.getElementById('loading');
        const resultContainer = document.getElementById('result-container');
        const resultTitle = document.getElementById('result-title');
        const resultContent = document.getElementById('result-content');
        
        // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
        let currentInputType = 'text';
        
        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫
        tabButtons.forEach(button => {
            button.addEventListener('click', () => {
                const tabId = button.getAttribute('data-tab');
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –∫–Ω–æ–ø–∫—É
                tabButtons.forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç
                tabContents.forEach(content => {
                    content.classList.remove('active');
                    if (content.id === tabId) {
                        content.classList.add('active');
                    }
                });
                
                // –°–∫—Ä—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –≤–∫–ª–∞–¥–æ–∫
                resultContainer.classList.remove('active');
            });
        });
        
        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–∏–ø–∞ –≤–≤–æ–¥–∞
        inputTypeBtns.forEach(button => {
            button.addEventListener('click', () => {
                const inputType = button.getAttribute('data-input-type');
                currentInputType = inputType;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –∫–Ω–æ–ø–∫—É
                inputTypeBtns.forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π input
                document.getElementById('text-input').classList.toggle('hidden', inputType !== 'text');
                document.getElementById('html-input').classList.toggle('hidden', inputType !== 'html');
                document.getElementById('file-input').classList.toggle('hidden', inputType !== 'file');
            });
        });
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–∞
        encodeFileInput.addEventListener('change', function() {
            if (this.files && this.files[0]) {
                fileNameSpan.textContent = this.files[0].name;
            } else {
                fileNameSpan.textContent = '–§–∞–π–ª –Ω–µ –≤—ã–±—Ä–∞–Ω';
            }
        });
        
        // –§—É–Ω–∫—Ü–∏—è –ø–æ–∫–∞–∑–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
        function showResult(title, content) {
            resultTitle.textContent = title;
            resultContent.innerHTML = content;
            resultContainer.classList.add('active');
            resultContainer.scrollIntoView({ behavior: 'smooth' });
        }
        
        // –§—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –¥–ª—è –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è
        async function getTextToEncode() {
            switch(currentInputType) {
                case 'text':
                    return encodeText.value.trim();
                    
                case 'html':
                    return encodeHtml.value.trim();
                    
                case 'file':
                    if (!encodeFileInput.files || !encodeFileInput.files[0]) {
                        throw new Error('–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª –¥–ª—è –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è');
                    }
                    const file = encodeFileInput.files[0];
                    const text = await file.text();
                    return text;
                    
                default:
                    return '';
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
        function detectContentType(text) {
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Ç–µ–∫—Å—Ç HTML
            const htmlRegex = /<[a-z][\s\S]*>/i;
            const hasHtmlTags = htmlRegex.test(text);
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã—Ö HTML-—Ç–µ–≥–æ–≤
            const commonTags = ['<div', '<span', '<p', '<h1', '<h2', '<h3', '<h4', '<h5', '<h6', '<ul', '<ol', '<li', '<table', '<tr', '<td', '<th', '<a ', '<img', '<br', '<hr', '<meta', '<link', '<script', '<style'];
            const hasCommonTags = commonTags.some(tag => text.includes(tag));
            
            return hasHtmlTags || hasCommonTags ? 'html' : 'text';
        }
        
        // –§—É–Ω–∫—Ü–∏—è –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞/HTML –≤ PNG
        async function encodeToPng() {
            let text;
            try {
                text = await getTextToEncode();
            } catch (error) {
                alert(error.message);
                return;
            }
            
            if (!text) {
                alert('–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –∏–ª–∏ HTML –¥–ª—è –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è');
                return;
            }
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
            loading.classList.add('active');
            
            try {
                // –°–æ–∑–¥–∞–µ–º —Ö–æ–ª—Å—Ç –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
                const canvas = document.createElement('canvas');
                const ctx = canvas.getContext('2d');
                
                // –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–≥—Ä—É–∑–∏–ª –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                if (encodeImageInput.files && encodeImageInput.files[0]) {
                    const imageFile = encodeImageInput.files[0];
                    const imageBitmap = await createImageBitmap(imageFile);
                    
                    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ä–∞–∑–º–µ—Ä —Ö–æ–ª—Å—Ç–∞ –ø–æ —Ä–∞–∑–º–µ—Ä—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
                    canvas.width = imageBitmap.width;
                    canvas.height = imageBitmap.height;
                    
                    // –†–∏—Å—É–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ —Ö–æ–ª—Å—Ç–µ
                    ctx.drawImage(imageBitmap, 0, 0);
                } else {
                    // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å —Ü–≤–µ—Ç–Ω—ã–º –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–º
                    canvas.width = 800;
                    canvas.height = 600;
                    
                    // –°–æ–∑–¥–∞–µ–º –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Ñ–æ–Ω
                    const gradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
                    gradient.addColorStop(0, '#3a7bd5');
                    gradient.addColorStop(0.5, '#00d2ff');
                    gradient.addColorStop(1, '#56ab2f');
                    
                    ctx.fillStyle = gradient;
                    ctx.fillRect(0, 0, canvas.width, canvas.height);
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                    ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';
                    ctx.font = 'bold 24px Arial';
                    ctx.textAlign = 'center';
                    ctx.fillText('–°–∫—Ä—ã—Ç–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤–Ω—É—Ç—Ä–∏', canvas.width / 2, 50);
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–∏–ø–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
                    const contentType = detectContentType(text);
                    ctx.font = '16px Arial';
                    ctx.fillText(`–°–æ–¥–µ—Ä–∂–∏—Ç: ${contentType === 'html' ? 'HTML-–∫–æ–¥' : '—Ç–µ–∫—Å—Ç'}`, canvas.width / 2, 90);
                    
                    ctx.font = '14px Arial';
                    ctx.fillText('–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–µ–∫–æ–¥–µ—Ä –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è', canvas.width / 2, canvas.height - 40);
                }
                
                // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
                const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
                const data = imageData.data;
                
                // –î–æ–±–∞–≤–ª—è–µ–º –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –≤ –Ω–∞—á–∞–ª–æ (—Ç–∏–ø –∫–æ–Ω—Ç–µ–Ω—Ç–∞ + –¥–ª–∏–Ω–∞)
                const contentType = detectContentType(text);
                const contentTypeByte = contentType === 'html' ? 1 : 0; // 1 –¥–ª—è HTML, 0 –¥–ª—è —Ç–µ–∫—Å—Ç–∞
                
                // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º —Ç–µ–∫—Å—Ç –≤ –±–∞–π—Ç—ã
                const textEncoder = new TextEncoder();
                const textBytes = textEncoder.encode(text);
                const textLength = textBytes.length;
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–∏ –º–µ—Å—Ç–∞ –¥–ª—è —Ç–µ–∫—Å—Ç–∞ –≤ –∞–ª—å—Ñ–∞-–∫–∞–Ω–∞–ª–µ
                const maxTextLength = data.length / 4 - 5; // -5 –¥–ª—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
                if (textLength > maxTextLength) {
                    loading.classList.remove('active');
                    alert(`–ö–æ–Ω—Ç–µ–Ω—Ç —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –¥–ª—è —ç—Ç–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è: ${Math.floor(maxTextLength)} –±–∞–π—Ç`);
                    return;
                }
                
                // –ö–æ–¥–∏—Ä—É–µ–º –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∏ —Ç–µ–∫—Å—Ç –≤ –∞–ª—å—Ñ–∞-–∫–∞–Ω–∞–ª
                // –ü–µ—Ä–≤—ã–π –ø–∏–∫—Å–µ–ª—å: —Ç–∏–ø –∫–æ–Ω—Ç–µ–Ω—Ç–∞
                data[3] = contentTypeByte;
                
                // –°–ª–µ–¥—É—é—â–∏–µ 4 –ø–∏–∫—Å–µ–ª—è: –¥–ª–∏–Ω–∞ —Ç–µ–∫—Å—Ç–∞
                data[7] = (textLength >> 24) & 0xFF;
                data[11] = (textLength >> 16) & 0xFF;
                data[15] = (textLength >> 8) & 0xFF;
                data[19] = textLength & 0xFF;
                
                // –û—Å—Ç–∞–ª—å–Ω—ã–µ –ø–∏–∫—Å–µ–ª–∏: —Å–∞–º —Ç–µ–∫—Å—Ç
                for (let i = 0; i < textLength; i++) {
                    const dataIndex = (i + 5) * 4 + 3; // +5 —á—Ç–æ–±—ã –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –ø–∏–∫—Å–µ–ª–∏ —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
                    data[dataIndex] = textBytes[i];
                }
                
                // –ü–æ–º–µ—â–∞–µ–º –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ–±—Ä–∞—Ç–Ω–æ –Ω–∞ —Ö–æ–ª—Å—Ç
                ctx.putImageData(imageData, 0, 0);
                
                // –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º —Ö–æ–ª—Å—Ç –≤ PNG
                const pngUrl = canvas.toDataURL('image/png');
                
                // –°–æ–∑–¥–∞–µ–º —Å—Å—ã–ª–∫—É –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
                const timestamp = new Date().getTime();
                const typeLabel = contentType === 'html' ? 'html' : 'text';
                const downloadLink = `<a href="${pngUrl}" download="encoded_${typeLabel}_${timestamp}.png" class="download-btn">–°–∫–∞—á–∞—Ç—å PNG —Å –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–º ${typeLabel === 'html' ? 'HTML' : '—Ç–µ–∫—Å—Ç–æ–º'}</a>`;
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
                loading.classList.remove('active');
                showResult('–ö–æ–Ω—Ç–µ–Ω—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω!', `
                    <p>–í–∞—à ${contentType === 'html' ? 'HTML-–∫–æ–¥' : '—Ç–µ–∫—Å—Ç'} –±—ã–ª —Å–∫—Ä—ã—Ç –≤ –∞–ª—å—Ñ–∞-–∫–∞–Ω–∞–ª–µ PNG –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.</p>
                    <p>–¢–∏–ø –∫–æ–Ω—Ç–µ–Ω—Ç–∞: ${contentType === 'html' ? 'HTML' : '–¢–µ–∫—Å—Ç'}</p>
                    <p>–†–∞–∑–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö: ${textLength} –±–∞–π—Ç</p>
                    <img src="${pngUrl}" alt="–ó–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ" class="image-preview">
                    ${downloadLink}
                    <p class="info-box">–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —ç—Ç–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞.</p>
                `);
            } catch (error) {
                loading.classList.remove('active');
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–∏:', error);
                alert('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞');
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞/HTML –∏–∑ PNG
        async function decodeFromPng() {
            if (!decodeImageInput.files || !decodeImageInput.files[0]) {
                alert('–í—ã–±–µ—Ä–∏—Ç–µ PNG –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è');
                return;
            }
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
            loading.classList.add('active');
            
            try {
                const imageFile = decodeImageInput.files[0];
                const imageBitmap = await createImageBitmap(imageFile);
                
                // –°–æ–∑–¥–∞–µ–º —Ö–æ–ª—Å—Ç –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
                const canvas = document.createElement('canvas');
                const ctx = canvas.getContext('2d');
                canvas.width = imageBitmap.width;
                canvas.height = imageBitmap.height;
                
                // –†–∏—Å—É–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ —Ö–æ–ª—Å—Ç–µ
                ctx.drawImage(imageBitmap, 0, 0);
                
                // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
                const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
                const data = imageData.data;
                
                // –ò–∑–≤–ª–µ–∫–∞–µ–º –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∏–∑ –ø–µ—Ä–≤—ã—Ö 5 –ø–∏–∫—Å–µ–ª–µ–π
                const contentTypeByte = data[3];
                const contentType = contentTypeByte === 1 ? 'html' : 'text';
                
                // –ò–∑–≤–ª–µ–∫–∞–µ–º –¥–ª–∏–Ω—É —Ç–µ–∫—Å—Ç–∞
                const textLength = (data[7] << 24) | (data[11] << 16) | (data[15] << 8) | data[19];
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å –¥–ª–∏–Ω—ã —Ç–µ–∫—Å—Ç–∞
                if (textLength <= 0 || textLength > (data.length / 4) - 5) {
                    loading.classList.remove('active');
                    alert('–ù–µ —É–¥–∞–ª–æ—Å—å –∏–∑–≤–ª–µ—á—å –¥–∞–Ω–Ω—ã–µ. –í–æ–∑–º–æ–∂–Ω–æ, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–æ.');
                    return;
                }
                
                // –ò–∑–≤–ª–µ–∫–∞–µ–º —Ç–µ–∫—Å—Ç –∏–∑ –∞–ª—å—Ñ–∞-–∫–∞–Ω–∞–ª–∞
                const textBytes = new Uint8Array(textLength);
                for (let i = 0; i < textLength; i++) {
                    const dataIndex = (i + 5) * 4 + 3; // +5 —á—Ç–æ–±—ã –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –ø–∏–∫—Å–µ–ª–∏ —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
                    textBytes[i] = data[dataIndex];
                }
                
                // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –±–∞–π—Ç—ã –≤ —Ç–µ–∫—Å—Ç
                const textDecoder = new TextDecoder();
                const decodedText = textDecoder.decode(textBytes);
                
                // –§–æ—Ä–º–∏—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
                let resultContentHTML = '';
                
                if (contentType === 'html') {
                    resultContentHTML = `
                        <p>–ò–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑–≤–ª–µ—á–µ–Ω HTML-–∫–æ–¥:</p>
                        <div class="html-preview">${decodedText}</div>
                        <div class="text-result">${decodedText}</div>
                        <p>–¢–∏–ø –∫–æ–Ω—Ç–µ–Ω—Ç–∞: HTML</p>
                        <p>–†–∞–∑–º–µ—Ä: ${textLength} –±–∞–π—Ç</p>
                        <button id="preview-html-btn" class="secondary-btn">–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä HTML</button>
                        <button id="copy-html-btn" class="secondary-btn">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å HTML</button>
                    `;
                } else {
                    resultContentHTML = `
                        <p>–ò–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑–≤–ª–µ—á–µ–Ω —Ç–µ–∫—Å—Ç:</p>
                        <div class="text-result">${decodedText}</div>
                        <p>–¢–∏–ø –∫–æ–Ω—Ç–µ–Ω—Ç–∞: –¢–µ–∫—Å—Ç</p>
                        <p>–†–∞–∑–º–µ—Ä: ${textLength} –±–∞–π—Ç</p>
                        <button id="copy-text-btn" class="secondary-btn">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç</button>
                    `;
                }
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
                loading.classList.remove('active');
                showResult('–ö–æ–Ω—Ç–µ–Ω—Ç —É—Å–ø–µ—à–Ω–æ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω!', resultContentHTML);
                
                // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ
                if (contentType === 'html') {
                    document.getElementById('preview-html-btn').addEventListener('click', function() {
                        const newWindow = window.open();
                        newWindow.document.write(decodedText);
                        newWindow.document.close();
                    });
                    
                    document.getElementById('copy-html-btn').addEventListener('click', function() {
                        navigator.clipboard.writeText(decodedText).then(() => {
                            alert('HTML —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞');
                        });
                    });
                } else {
                    document.getElementById('copy-text-btn').addEventListener('click', function() {
                        navigator.clipboard.writeText(decodedText).then(() => {
                            alert('–¢–µ–∫—Å—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞');
                        });
                    });
                }
            } catch (error) {
                loading.classList.remove('active');
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–∏:', error);
                alert('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–∏. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã–±—Ä–∞–Ω–æ PNG –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, —Å–æ–∑–¥–∞–Ω–Ω–æ–µ —ç—Ç–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º.');
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ PNG
        async function convertImageToPng() {
            if (!convertImageInput.files || !convertImageInput.files[0]) {
                alert('–í—ã–±–µ—Ä–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏');
                return;
            }
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
            loading.classList.add('active');
            
            try {
                const imageFile = convertImageInput.files[0];
                const imageBitmap = await createImageBitmap(imageFile);
                
                // –°–æ–∑–¥–∞–µ–º —Ö–æ–ª—Å—Ç –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
                const canvas = document.createElement('canvas');
                const ctx = canvas.getContext('2d');
                canvas.width = imageBitmap.width;
                canvas.height = imageBitmap.height;
                
                // –†–∏—Å—É–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ —Ö–æ–ª—Å—Ç–µ
                ctx.drawImage(imageBitmap, 0, 0);
                
                // –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º —Ö–æ–ª—Å—Ç –≤ PNG
                const pngUrl = canvas.toDataURL('image/png');
                
                // –°–æ–∑–¥–∞–µ–º —Å—Å—ã–ª–∫—É –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
                const timestamp = new Date().getTime();
                const originalFileName = imageFile.name.split('.').slice(0, -1).join('.') || 'converted';
                const downloadLink = `<a href="${pngUrl}" download="${originalFileName}_${timestamp}.png" class="download-btn">–°–∫–∞—á–∞—Ç—å PNG –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</a>`;
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
                loading.classList.remove('active');
                showResult('–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ!', `
                    <p>–í–∞—à–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±—ã–ª–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–æ –≤ —Ñ–æ—Ä–º–∞—Ç PNG.</p>
                    <p>–†–∞–∑–º–µ—Ä: ${canvas.width} √ó ${canvas.height} –ø–∏–∫—Å–µ–ª–µ–π</p>
                    <img src="${pngUrl}" alt="–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ" class="image-preview">
                    ${downloadLink}
                `);
            } catch (error) {
                loading.classList.remove('active');
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏:', error);
                alert('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è');
            }
        }
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
        encodeBtn.addEventListener('click', encodeToPng);
        decodeBtn.addEventListener('click', decodeFromPng);
        convertBtn.addEventListener('click', convertImageToPng);
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        document.addEventListener('DOMContentLoaded', () => {
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã
            encodeText.placeholder = `–ü—Ä–∏–≤–µ—Ç! –≠—Ç–æ —Å–µ–∫—Ä–µ—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç —Å–∫—Ä—ã—Ç–æ –≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏.

–í—ã –º–æ–∂–µ—Ç–µ —Å–∫—Ä—ã—Ç—å –ª—é–±–æ–π —Ç–µ–∫—Å—Ç –≤ –∞–ª—å—Ñ–∞-–∫–∞–Ω–∞–ª–µ PNG –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –∏ –æ–Ω –±—É–¥–µ—Ç –Ω–µ–≤–∏–¥–∏–º –¥–ª—è –æ–±—ã—á–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞.

–≠—Ç–æ—Ç —Ç–µ–∫—Å—Ç –±—É–¥–µ—Ç –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω –≤ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏ –ø–∏–∫—Å–µ–ª–µ–π.`;

            encodeHtml.placeholder = `<!DOCTYPE html>
<html>
<head>
    <title>–°–µ–∫—Ä–µ—Ç–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
            padding: 20px;
        }
        h1 {
            color: #3a7bd5;
        }
    </style>
</head>
<body>
    <h1>–°–µ–∫—Ä–µ—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ</h1>
    <p>–≠—Ç–æ HTML-–∫–æ–¥, —Å–∫—Ä—ã—Ç—ã–π –≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏!</p>
    <p>–í—Å–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ç–µ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—Å—è.</p>
</body>
</html>`;

            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–∫—Ç–∏–≤–∏—Ä—É–µ–º –ø–æ–ª–µ –≤–≤–æ–¥–∞ —Ç–µ–∫—Å—Ç–∞
            encodeText.focus();
        });
    </script>
</body>
</html>